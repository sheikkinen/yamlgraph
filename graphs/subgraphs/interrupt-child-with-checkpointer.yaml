version: "1.0"
name: interrupt-child-with-checkpointer
description: Child graph WITH its own checkpointer config (for testing FR-006 bug)

# This checkpointer should be IGNORED when used as a subgraph!
# The parent's checkpointer should be used instead.
checkpointer:
  type: memory

state:
  input_message: str
  phase: str
  extracted_data: str
  question: str
  user_answer: str

nodes:
  process:
    type: passthrough
    output:
      phase: "processing"
      extracted_data: "partial result from child-with-checkpointer"

  ask_user:
    type: interrupt
    message: "What is your answer? (from child-with-checkpointer)"
    state_key: question
    resume_key: user_answer

  finalize:
    type: passthrough
    output:
      phase: "complete"

edges:
  - from: START
    to: process
  - from: process
    to: ask_user
  - from: ask_user
    to: finalize
  - from: finalize
    to: END
