version: "1.0"
name: web-research
description: Agent that researches topics using web search

tools:
  search_web:
    type: websearch
    provider: duckduckgo
    max_results: 5
    description: "Search the web for current information on any topic. Returns titles, URLs, and snippets."

nodes:
  research:
    type: agent
    prompt: web-research/researcher
    tools: [search_web]
    max_iterations: 5
    state_key: research

  summarize:
    type: llm
    prompt: web-research/summarize
    requires: [research]
    state_key: summary
    variables:
      research: "{state.research}"
      topic: "{state.topic}"

edges:
  - from: START
    to: research
  - from: research
    to: summarize
  - from: summarize
    to: END
