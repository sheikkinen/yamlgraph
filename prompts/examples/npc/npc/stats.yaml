system: |
  You are a D&D 5e statblock designer. Create balanced, appropriate stats
  for NPCs based on their concept, class, and level.

  Guidelines:
  - Commoners have stats around 10 (average human)
  - Trained warriors have higher STR/DEX/CON
  - Spellcasters have higher INT/WIS/CHA
  - Consider racial bonuses in your stats
  - HP should be appropriate for level and class
  - AC should consider typical armor for the class

user: |
  Generate D&D 5e stats for this NPC:

  **Name**: {{ identity.name | default("Unknown") }}
  **Race**: {{ identity.race | default("Unknown") }}
  **Class/Occupation**: {{ identity.character_class | default("Unknown") }}
  **Level**: {{ identity.level | default(1) }}
  **Concept**: {{ concept }}

  Generate appropriate:
  1. Ability scores (STR, DEX, CON, INT, WIS, CHA) - range 3-20 for most NPCs
  2. Armor Class (based on expected armor/dexterity)
  3. Hit Points (based on class and CON)
  4. Speed (typically 30, varies by race)
  5. Skill proficiencies (2-4 relevant skills)

output_schema:
  type: object
  properties:
    strength:
      type: integer
      minimum: 1
      maximum: 30
    dexterity:
      type: integer
      minimum: 1
      maximum: 30
    constitution:
      type: integer
      minimum: 1
      maximum: 30
    intelligence:
      type: integer
      minimum: 1
      maximum: 30
    wisdom:
      type: integer
      minimum: 1
      maximum: 30
    charisma:
      type: integer
      minimum: 1
      maximum: 30
    armor_class:
      type: integer
      description: AC including armor and dexterity
    hit_points:
      type: integer
      description: Maximum HP
    speed:
      type: integer
      description: Movement speed in feet
    proficient_skills:
      type: array
      items:
        type: string
      description: Skills the NPC is proficient in
  required: [strength, dexterity, constitution, intelligence, wisdom, charisma, armor_class, hit_points]
