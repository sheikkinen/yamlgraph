# Test Case: Interrupt Pattern

**Status:** ✅ PASSED (generator includes checkpointer)

## Request

```
Ask the user for their name, then generate a personalized welcome message
```

## Reference

Compare with `graphs/interview-demo.yaml`

## Known Limitations

Generator may not include checkpointer config. This test validates structure; execution requires enhancement.

## Validation Commands

```bash
cd examples/yamlgraph_gen

# Generate
python run_generator.py -o outputs/interrupt-test \
  'Ask the user for their name, then generate a personalized welcome message'

# Structural checks
grep -A8 "type: interrupt" outputs/interrupt-test/graph.yaml
grep "resume_key:" outputs/interrupt-test/graph.yaml
grep -A3 "checkpointer:" outputs/interrupt-test/graph.yaml || echo "MISSING: checkpointer config"
```

## Success Criteria

- [x] Interrupt node has type: interrupt with resume_key
- [x] Prompt asks a clear question (LLM-generated)
- [x] Following node uses the resume_key value
- [x] Checkpointer config present (memory checkpointer)

## Results

### Generated Structure

```yaml
checkpointer:
  type: memory

state:
  name: str
  welcome_message: str

nodes:
  ask_name:
    type: interrupt
    prompt: ask_name  # LLM generates question
    resume_key: name

  generate_welcome:
    type: llm
    prompt: generate_welcome
    state_key: welcome_message
    variables:
      input: "{state.name}"

edges:
  - from: START
    to: ask_name
  - from: ask_name
    to: generate_welcome
  - from: generate_welcome
    to: END
```

### Execution Result

```
Step 1: Interrupt for user input (question generated by LLM)
Step 2: Resume with name="Alice"
Output: "Welcome, Alice! We're absolutely delighted to have you here..."
✅ PASSED
```

### Generator Success

| Feature | Status | Notes |
|---------|--------|-------|
| Checkpointer auto-added | ✅ | Memory checkpointer included |
| Interrupt node structure | ✅ | Correct type, prompt, resume_key |
| State declarations | ✅ | Proper type hints for resume values |
| Prompt generation | ✅ | LLM-generated question prompt |
